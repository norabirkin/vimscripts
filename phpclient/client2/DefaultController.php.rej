--- DefaultController.php	(revision 42942)
+++ DefaultController.php	(revision 43111)
@@ -8,18 +8,22 @@
         ));
     }
 	public function actionIndex($agrmid = 0,$rs_uri = '') {
-		if (!$this->getModule()->rentsoft->checkAccess()) {
-			// User MUST see the meaning of this error, but not only a blank page.
-			die("Access is denied for this account (typicaly because of a wrong account.type).");
-		}
-		$this->getModule()->rentsoft->setAgrmid($agrmid);
-		$this->getModule()->rentsoft->rs_uri = $rs_uri;
-		$this->render('rentsoft',array(
-			'title' => yii::t('RentSoftModule.rentsoft','Title'),
-			'iframe' => $this->getModule()->rentsoft->iframe(),
-			'agreementsListLabel' => yii::t('RentSoftModule.rentsoft','Agreement'),
-			'agreementsList' => $this->getModule()->rentsoft->getAgreementsDropdownList(),
-			'rentSoftOfAgreementUrls' => $this->getModule()->rentsoft->getRentSoftOfAgreementUrls()
-		));
+        try {
+            if (!$this->getModule()->rentsoft->checkAccess()) {
+                // User MUST see the meaning of this error, but not only a blank page.
+                die("Access is denied for this account (typicaly because of a wrong account.type).");
+            }
+            $this->getModule()->rentsoft->setAgrmid($agrmid);
+            $this->getModule()->rentsoft->rs_uri = $rs_uri;
+            $this->render('rentsoft',array(
+                'title' => yii::t('RentSoftModule.rentsoft','Title'),
+                'iframe' => $this->getModule()->rentsoft->iframe(),
+                'agreementsListLabel' => yii::t('RentSoftModule.rentsoft','Agreement'),
+                'agreementsList' => $this->getModule()->rentsoft->getAgreementsDropdownList(),
+                'rentSoftOfAgreementUrls' => $this->getModule()->rentsoft->getRentSoftOfAgreementUrls()
+            ));
+        } catch (Exception $e) {
+            $this->output(yii::t('main', 'Section is not available. Please contact to manager.'));
+        }
 	}
 } ?>
